# Домашнее задание №2
1. Развернута ВМ *Ubuntu Server 22.04*

![](HW2_img/1.png)

2. Установлен Docker Engine (https://docs.docker.com/engine/install/ubuntu/)

Перед первой установкой Docker Engine на новый хост необходимо настроить репозиторий Docker, после чего появится возможность установить и обновить Docker из репозитория.
Порядок установки:
- Обновить пакеты:

![](HW2_img/2.png)

- Установить пакеты, которые необходимы для работы пакетного менеджера apt по протоколу HTTPS:

![](HW2_img/3.png)

- Добавить GPG-ключ репозитория Docker:

![](HW2_img/4.png)

- Добавить репозиторий Docker:

![](HW2_img/5.png)

- Обновить пакеты:

![](HW2_img/6.png)
 
- Переключиться в репозиторий Docker, чтобы его установить. В терминале должна появиться подобная информация с версией Docker:

![](HW2_img/7.png)

- Установить Docker:

![](HW2_img/8.png)
 
- Проверить работоспособность программы. В терминале должна появиться информация о том, что Docker активен:

![](HW2_img/9.png)
 
- Чтобы использовать утилиту docker, нужно добавить ваше имя пользователя в группу Docker. Для этого необходимо ввести в терминале команду: *sudo usermod -aG docker ${user}*, где *${user}* – имя пользователя.
 
![](HW2_img/10.png)

- Ввести: *su - ${user}*, где *${user}* – имя пользователя. Введите пароль пользователя, когда его запросит терминал.

![](HW2_img/11.png)
 
- Проверить доступ к образам Docker. Если вы увидите сообщение «Hello from Docker!», то всё установлено верно.

![](HW2_img/12.png)
 
3. Создан каталог /var/lib/postgres:

![](HW2_img/13.png)

4. Развернут контейнер с PostgreSQL 15 смонтировав в него /var/lib/postgresql
 
![](HW2_img/14.png)
![](HW2_img/15.png)

5. Развернут контейнер с клиентом postgres

![](HW2_img/16.png)
 
6. Подключено из контейнера с клиентом к контейнеру с сервером. Создана таблица с парой строк:

    ```
     create table persons(id serial, first_name text, second_name text);
     insert into persons(first_name, second_name) values('ivan', 'ivanov');
     insert into persons(first_name, second_name) values('petr', 'petrov');
    ```
 
![](HW2_img/17.png)

7. Подключено к контейнеру с сервером с компьютера извне:

![](HW2_img/18.png)

8. Удален контейнер с сервером:

![](HW2_img/19.png)
 
9. Заново создан контейнер с сервером:

![](HW2_img/20.png)

10. Подключено из контейнера с клиентом к контейнеру с сервером. Данные остались на месте:

![](HW2_img/21.png)
